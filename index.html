!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Inteligencia de Pérdidas - Tetra Pak</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 0; padding: 0; background-color: #f4f4f4; }
        header { background-color: #003366; color: white; padding: 20px; text-align: center; }
        .kpi-panel { display: flex; justify-content: space-around; background-color: #e0e0e0; padding: 20px; }
        .kpi { background-color: white; padding: 15px; border-radius: 8px; width: 20%; text-align: center; box-shadow: 0 0 5px rgba(0,0,0,0.1); }
        .charts { display: flex; justify-content: space-around; padding: 20px; }
        canvas { background-color: white; border-radius: 8px; box-shadow: 0 0 5px rgba(0,0,0,0.1); }
        table { width: 90%; margin: 20px auto; border-collapse: collapse; background-color: white; }
        th, td { border: 1px solid #ccc; padding: 8px; text-align: center; }
        th { background-color: #003366; color: white; }
        .filters { text-align: center; margin: 20px; }
        .filters select, .filters input { margin: 0 10px; padding: 5px; }
        .export-btn { display: block; margin: 20px auto; padding: 10px 20px; background-color: #003366; color: white; border: none; border-radius: 5px; cursor: pointer; }
    </style>
</head>
<body>
    <header>
        <h1>Inteligencia de Pérdidas - Tetra Pak</h1>
        <p id="datetime"></p>
    </header>

    <div class="kpi-panel">
        <div class="kpi"><h3>Pérdidas Totales</h3><p>1,250 unidades</p></div>
        <div class="kpi"><h3>Valor Estimado</h3><p>$15,000</p></div>
        <div class="kpi"><h3>% Eficiencia</h3><p>92%</p></div>
        <div class="kpi"><h3>Líneas Afectadas</h3><p>3</p></div>
    </div>

    <div class="charts">
        <canvas id="barChart" width="400" height="300"></canvas>
        <canvas id="pieChart" width="300" height="300"></canvas>
    </div>

    <div class="filters">
        <label>Fecha: <input type="date"></label>
        <label>Línea: 
            <select>
                <option>Todas</option>
                <option>Línea 1</option>
                <option>Línea 2</option>
                <option>Línea 3</option>
            </select>
        </label>
        <label>Tipo de pérdida: 
            <select>
                <option>Todos</option>
                <option>Producción</option>
                <option>Materiales</option>
            </select>
        </label>
    </div>

    <table>
        <thead>
            <tr>
                <th>Fecha</th>
                <th>Línea</th>
                <th>Tipo</th>
                <th>Causa</th>
                <th>Cantidad</th>
                <th>Valor</th>
            </tr>
        </thead>
        <tbody>
            <tr><td>2024-04-01</td><td>Línea 1</td><td>Producción</td><td>Falla técnica</td><td>300</td><td>$3,600</td></tr>
            <tr><td>2024-04-02</td><td>Línea 2</td><td>Materiales</td><td>Empaque defectuoso</td><td>150</td><td>$1,800</td></tr>
            <tr><td>2024-04-03</td><td>Línea 3</td><td>Producción</td><td>Paro no programado</td><td>200</td><td>$2,400</td></tr>
        </tbody>
    </table>

    <button class="export-btn">Exportar a Excel</button>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        document.getElementById("datetime").innerText = new Date().toLocaleString();

        const barCtx = document.getElementById('barChart').getContext('2d');
        new Chart(barCtx, {
            type: 'bar',
            data: {
                labels: ['Línea 1', 'Línea 2', 'Línea 3'],
                datasets: [{
                    label: 'Pérdidas (unidades)',
                    data: [300, 150, 200],
                    backgroundColor: ['#0074D9', '#FF4136', '#2ECC40']
                }]
            }
        });

        const pieCtx = document.getElementById('pieChart').getContext('2d');
        new Chart(pieCtx, {
            type: 'pie',
            data: {
                labels: ['Producción', 'Materiales'],
                datasets: [{
                    data: [500, 150],
                    backgroundColor: ['#FF851B', '#7FDBFF']
                }]
            }
        });
    </script>
</body>
</html>
